<div class="file-upload p-3">
  <div class="row">
    <div class="col-md-12 col-lg-6">
      <form #uploadForm="ngForm" (ngSubmit)="onSubmit(uploadForm)">
        <div class="mb-3">
          <div class="input-group">
            <input 
              type="file" 
              class="form-control" 
              (change)="onFileSelected($event)" 
              [placeholder]="successfullyUploaded ? '' : 'Choose a CSV file'"
              accept=".csv"
              [disabled]="isUploading"
              name="fileInput"
              #fileInput
              required>
            
            <button 
              class="btn btn-primary" 
              type="submit"
              [disabled]="!selectedFile || isUploading || uploadForm.invalid">
              <span class="d-flex align-items-center">
                <span class="spinner-border spinner-border-sm me-2" *ngIf="isUploading"></span>
                {{ isUploading ? 'Uploading...' : 'Upload' }}
              </span>
            </button>
          </div>
        </div>

        <div *ngIf="selectedFile" class="alert alert-info d-flex align-items-center">
          <i class="bi bi-file-earmark-text me-2"></i>
          <span>Selected file: {{ selectedFile.name }}</span>
        </div>

        <div *ngIf="uploadError" class="alert alert-danger d-flex align-items-center">
          <i class="bi bi-exclamation-triangle-fill me-2"></i>
          <span>{{ uploadError }}</span>
        </div>

        <div *ngIf="successfullyUploaded" class="alert alert-success d-flex align-items-center">
          <i class="bi bi-check-circle-fill me-2"></i>
          <span>File uploaded successfully!</span>
        </div>

        <!-- TODO: Add sample CSV file download -->
        <!-- <div class="mt-3">
          <a [href]="'./public/data.csv'" download="data.csv" type="text/csv" target="_blank" class="text-decoration-none">
            <i class="bi bi-download me-2"></i>
            Download sample CSV file
          </a>
        </div> -->

      </form>
    </div>
  </div>
</div>